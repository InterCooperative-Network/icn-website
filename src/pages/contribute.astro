---
import Layout from '../layouts/Layout.astro';
import MatrixInvite from '../components/MatrixInvite.astro';

const contributingLinks = [
  {
    title: 'Main Discussion Forum (GitHub Discussions)',
    href: 'https://github.com/orgs/InterCooperative-Network/discussions',
    description: 'For general discussions, proposals, Q&A, and longer-form collaboration.'
  },
  {
    title: 'Code Repositories (GitHub)',
    href: 'https://github.com/InterCooperative-Network',
    description: 'Explore our open-source projects, fork repositories, and submit pull requests.'
  },
  {
    title: 'Good First Issues',
    href: 'https://github.com/issues?q=is%3Aopen+is%3Aissue+user%3AInterCooperative-Network+label%3A%22good+first+issue%22',
    description: 'Looking for a place to start? These issues are tagged as suitable for newcomers.'
  },
  {
    title: 'CONTRIBUTING.md (Example Link - Update per project)',
    href: 'https://github.com/InterCooperative-Network/icn-website/blob/main/CONTRIBUTING.md', // Generic, update if a central one exists or per repo
    description: 'General guidelines for contributing to ICN projects. Specific repos may have their own.'
  },
  {
    title: 'Code of Conduct (Example Link - Update)',
    href: '#', // Replace with actual link to Code of Conduct
    description: 'Our community standards to ensure a welcoming and respectful environment for all.'
  }
];

const howToGetInvolved = [
  {
    step: 1,
    title: 'Join the Community on Matrix',
    description: 'The first step is to connect with us on Matrix. Introduce yourself, ask questions, and see what discussions are active.',
    cta: { text: 'Join ICN on Matrix', href: '#matrix-invite' } // Link to MatrixInvite component on this page
  },
  {
    step: 2,
    title: 'Explore Projects & Issues',
    description: 'Browse our list of projects on the /projects page or look through GitHub issues, especially those tagged \'good first issue\'.',
    cta: { text: 'See Projects', href: '/projects' }
  },
  {
    step: 3,
    title: 'Understand Our Workflow',
    description: 'Familiarize yourself with our general contribution guidelines (CONTRIBUTING.md) and how we use GitHub for pull requests and code reviews.',
    cta: { text: 'Read Contribution Guide (Example)', href: contributingLinks[3].href }
  },
  {
    step: 4,
    title: 'Fork, Code, & Open a Pull Request',
    description: 'Once you\'ve found something to work on, fork the relevant repository, make your changes, and submit a Pull Request. Don\'t hesitate to ask for help!',
    cta: { text: 'ICN GitHub Repositories', href: 'https://github.com/InterCooperative-Network' }
  },
  {
    step: 5,
    title: 'Contribute Beyond Code',
    description: 'Not a coder? You can still help! We need writers for documentation, designers, testers, community moderators, and advocates. Join the discussion to find out how.',
    cta: { text: 'Join the Discussion', href: contributingLinks[0].href }
  }
];
---

<Layout title="Contribute to ICN" description="Get involved with the InterCooperative Network. Find resources, guides, and ways to contribute.">
  <section class="py-12">
    <div class="container mx-auto px-6">
      <h1 class="text-4xl font-bold text-center mb-12">Contribute to the InterCooperative Network</h1>
      <p class="text-xl text-center text-gray-700 mb-12 max-w-2xl mx-auto">
        ICN is a community-driven effort. We welcome contributors of all backgrounds and skill levels. 
        Whether you write code, design, document, or organize, there's a place for you here.
      </p>

      <h2 class="text-3xl font-semibold mb-6 text-center">How to Get Involved</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
        {howToGetInvolved.slice(0,3).map(item => (
          <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col">
            <div class="text-4xl font-bold text-blue-600 mb-3">{item.step}.</div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-gray-700 mb-4 flex-grow">{item.description}</p>
            {item.step === 1 ? (
              <div id="matrix-invite"><MatrixInvite /></div>
            ) : (
              <a href={item.cta.href} target={item.cta.href.startsWith('http') ? '_blank' : '_self'} rel="noopener noreferrer" 
                 class="btn btn-primary mt-auto">
                {item.cta.text}
              </a>
            )}
          </div>
        ))}
      </div>
       <div class="grid md:grid-cols-2 gap-8 mb-16">
        {howToGetInvolved.slice(3).map(item => (
          <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col">
            <div class="text-4xl font-bold text-blue-600 mb-3">{item.step}.</div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-gray-700 mb-4 flex-grow">{item.description}</p>
            <a href={item.cta.href} target={item.cta.href.startsWith('http') ? '_blank' : '_self'} rel="noopener noreferrer" 
               class="btn btn-primary mt-auto">
              {item.cta.text}
            </a>
          </div>
        ))}
      </div>

      <h2 class="text-3xl font-semibold mb-8 text-center">Key Contributor Resources</h2>
      <div class="grid md:grid-cols-2 gap-6">
        {contributingLinks.map(link => (
          <a href={link.href} target="_blank" rel="noopener noreferrer" class="block bg-gray-50 hover:bg-gray-100 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <h3 class="text-xl font-semibold text-blue-700 mb-2">{link.title}</h3>
            <p class="text-gray-600">{link.description}</p>
          </a>
        ))}
      </div>
      <p class="text-center mt-8 text-sm text-gray-600">
        Please note: Some links (like Code of Conduct and specific CONTRIBUTING.md files) are placeholders. 
        These should be updated with actual URLs once available.
      </p>
    </div>
  </section>
</Layout>

<style>
  /* Optional: Page-specific styles */
</style> 