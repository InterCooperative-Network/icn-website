---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/HeroSection.astro';
import FeatureCard from '../components/FeatureCard.astro';

// Homepage copy
const pageTitle = "ICN: Post-Capitalist Civilizational Infrastructure";
const pageDescription = "The InterCooperative Network provides federated governance, economic coordination, and digital infrastructure for cooperatives, communities, and federations. Build the cooperative future‚Äîown the systems that shape your world.";

// Core features highlighting ICN's unique value propositions
const features = [
  {
    title: "Cooperative Virtual Machine (CoVM)",
    description: "Execute governance and economic operations through deterministic, auditable programs using our Cooperative Contract Language (CCL). Every decision is verifiable and replayable.",
    iconName: "code"
  },
  {
    title: "Non-Speculative Economics",
    description: "Mana-based resource allocation prevents hoarding and speculation while supporting genuine cooperative coordination and mutual aid networks.",
    iconName: "lightbulb"
  },
  {
    title: "Federated Governance",
    description: "Autonomous cooperatives maintain sovereignty while participating in larger federations. Democratic decision-making that scales from local to global.",
    iconName: "users"
  },
  {
    title: "Verifiable Transparency",
    description: "Content-addressable DAG provides immutable proof of all actions without the energy waste of traditional blockchains. Accountability through cryptographic receipts.",
    iconName: "document-text"
  },
  {
    title: "Scoped Identity & Trust",
    description: "Self-sovereign identity using DIDs enables participation across multiple cooperatives and federations with cryptographically secure, contextual identity.",
    iconName: "network-nodes"
  },
  {
    title: "Mesh Compute Coordination",
    description: "Distributed job execution with reputation-based assignment, WASM sandboxing, and cryptographic receipts. Democratic infrastructure for cooperative workloads.",
    iconName: "chat-bubble"
  }
];

// Organizational structure
const organizationalForms = [
  {
    title: "Cooperatives: Economic Engines",
    description: "Independent economic entities that run their own CoVM instances, define governance logic via CCL templates, and handle production, labor, and services. They operate democratically by their members and can participate in federations.",
    icon: "üè≠"
  },
  {
    title: "Communities: Governance Bodies", 
    description: "Civic-focused entities like towns or regions that run constitutional CoVM instances, govern public goods, enforce local law and restorative justice, and manage civic participation through verified identity.",
    icon: "üèõÔ∏è"
  },
  {
    title: "Federations: Protocol Coordination",
    description: "Interoperability layers that link coops and communities using shared CCL federation contracts, enable peer discovery via libp2p, support global DAG sync, and enforce scoped protocols like mutual aid or dispute resolution.",
    icon: "üåê"
  }
];

// Call-to-action section copy
const ctaTitle = "Build the Cooperative Future";
const ctaDescription = "Join the growing network of cooperatives, communities, and federations building post-capitalist infrastructure. Own the systems that shape your world.";

---

<Layout title={pageTitle} description={pageDescription}>
  <HeroSection />
  
  <!-- Features Section -->
  <section id="features" class="py-20 bg-bg-secondary">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-6">Beyond Web3: Web4 Cooperative Infrastructure</h2>
        <p class="text-xl text-light-slate max-w-4xl mx-auto">
          ICN isn't just another blockchain or crypto project. It's a complete post-capitalist 
          civilizational framework designed to replace extractive corporate platforms with 
          democratic, cooperative infrastructure owned and governed by the communities that use it.
        </p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {features.map((feature) => (
          <FeatureCard 
            title={feature.title}
            description={feature.description}
            iconName={feature.iconName}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Architecture Overview -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-4xl font-bold mb-8">Revolution as Design Problem</h2>
        <p class="text-xl text-light-slate mb-12">
          ICN treats systemic transformation as an infrastructure challenge. We're not just building 
          software‚Äîwe're architecting the foundations for a cooperative, democratic, and regenerative civilization.
        </p>
        
        <div class="grid md:grid-cols-2 gap-8 text-left">
          <div class="bg-midnight-navy/50 p-8 rounded-lg border border-red-400/30">
            <h3 class="text-2xl font-bold text-red-300 mb-4">Not Web3</h3>
            <ul class="text-light-slate space-y-2">
              <li>‚ùå No energy-wasting proof-of-work</li>
              <li>‚ùå No venture capital extraction</li>
              <li>‚ùå No DeFi market recreation</li>
              <li>‚ùå No corporate capture mechanisms</li>
            </ul>
          </div>
          
          <div class="bg-midnight-navy/50 p-8 rounded-lg border border-accent-primary/30">
            <h3 class="text-2xl font-bold text-accent-primary mb-4">Cooperative Web4</h3>
            <ul class="text-light-slate space-y-2">
              <li>‚úÖ Regenerative mana economics</li>
              <li>‚úÖ Efficient content-addressable DAG</li>
              <li>‚úÖ Democratic cooperative ownership</li>
              <li>‚úÖ Post-capitalist coordination</li>
              <li>‚úÖ Consciousness architecture design</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Organizational Forms -->
  <section class="py-20 bg-bg-secondary">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-6">Cooperatives, Communities & Federations</h2>
        <p class="text-xl text-light-slate max-w-3xl mx-auto">
          ICN recognizes three distinct but interoperable organizational forms, each with their own 
          governance patterns and economic relationships.
        </p>
      </div>
      
      <div class="space-y-8">
        {organizationalForms.map((form) => (
          <div class="border-l-4 border-accent-primary pl-8 bg-midnight-navy/30 p-6 rounded-lg">
            <div class="flex items-start space-x-4">
              <div class="text-4xl">{form.icon}</div>
              <div>
                <h3 class="text-2xl font-bold text-white mb-3">{form.title}</h3>
                <p class="text-light-slate leading-relaxed">{form.description}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Technical Architecture Deep Dive -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-4xl font-bold text-center mb-12">Core Architecture: Consciousness Infrastructure</h2>
        
        <div class="grid md:grid-cols-2 gap-8 mb-12">
          <div class="bg-soft-black/70 p-6 rounded-lg border border-accent-primary/20">
            <h3 class="text-xl font-semibold mb-3 text-accent-primary">Cooperative Virtual Machine (CoVM)</h3>
            <p class="text-light-slate">
              Executes governance and economic operations through deterministic, auditable programs using our 
              Cooperative Contract Language (CCL). Every proposal, vote, and transaction is verifiable and replayable.
              WASM-first execution with modular operation layers for storage, governance, and economics.
            </p>
          </div>
          
          <div class="bg-soft-black/70 p-6 rounded-lg border border-accent-blue/20">
            <h3 class="text-xl font-semibold mb-3 text-accent-blue">AgoraNet Deliberation</h3>
            <p class="text-light-slate">
              Real-time, scoped deliberation system that transforms discussions into structured proposals. 
              Supports mobile, browser, and terminal interfaces with participatory audit trails and 
              collaborative documentation.
            </p>
          </div>
          
          <div class="bg-soft-black/70 p-6 rounded-lg border border-accent-purple/20">
            <h3 class="text-xl font-semibold mb-3 text-accent-purple">DAG-Based Governance Ledger</h3>
            <p class="text-light-slate">
              Content-addressable DAG stores proposals, amendments, votes, and execution receipts. 
              Forkless, cryptographically verified memory with Merkle anchoring. No blockchain speculation‚Äîjust 
              transparent, immutable governance records.
            </p>
          </div>
          
          <div class="bg-soft-black/70 p-6 rounded-lg border border-accent-glow/20">
            <h3 class="text-xl font-semibold mb-3 text-accent-glow">Mesh Compute & Reputation</h3>
            <p class="text-light-slate">
              Distributed job execution with reputation-based assignment. WASM-sandboxed workloads, 
              cryptographic execution receipts, and cooperative workload balancing. Democratic infrastructure 
              for distributed computation.
            </p>
          </div>
        </div>

        <div class="bg-gradient-to-r from-accent-primary/10 to-accent-blue/10 p-8 rounded-lg border border-accent-glow/30">
          <h3 class="text-2xl font-bold text-center mb-4 text-accent-glow">Consciousness Architecture</h3>
          <p class="text-lg text-light-slate text-center">
            ICN recognizes that <strong>infrastructure is ideology made manifest</strong>. Every protocol decision, 
            every architectural choice, and every governance mechanism embodies values about how power should be 
            distributed, how decisions should be made, and how value should flow through a system.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Guiding Principles -->
  <section class="py-20 bg-bg-secondary">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-4xl font-bold text-center mb-12">Guiding Principles</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
          <div class="space-y-6">
            <div class="flex items-start space-x-4">
              <div class="bg-accent-primary/20 p-3 rounded-lg">
                <span class="text-2xl">üîê</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Scoped Trust & Verifiable Action</h3>
                <p class="text-light-slate">
                  All actions are contextualized by DIDs representing individuals, communities, cooperatives, 
                  or federations. Every significant action emits signed receipts anchored in a content-addressable DAG.
                </p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="bg-accent-blue/20 p-3 rounded-lg">
                <span class="text-2xl">‚öñÔ∏è</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Explicit & Programmable Governance</h3>
                <p class="text-light-slate">
                  Rules governing network behavior are defined explicitly via CCL, versioned, transparent, 
                  and compiled to verifiable WASM. No implicit authority or hidden algorithms.
                </p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="bg-accent-purple/20 p-3 rounded-lg">
                <span class="text-2xl">üå±</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Regenerative Economics</h3>
                <p class="text-light-slate">
                  Mana-based resource allocation prevents hoarding and speculation while supporting 
                  genuine mutual aid and resource sharing across cooperative networks.
                </p>
              </div>
            </div>
          </div>
          
          <div class="space-y-6">
            <div class="flex items-start space-x-4">
              <div class="bg-accent-glow/20 p-3 rounded-lg">
                <span class="text-2xl">üïäÔ∏è</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Restorative Justice</h3>
                <p class="text-light-slate">
                  Guardian Circles replace punitive moderation with healing-centered approaches. Federated 
                  dispute resolution and constitutional enforcement prioritize community healing over punishment.
                </p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="bg-accent-primary/20 p-3 rounded-lg">
                <span class="text-2xl">üèóÔ∏è</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Federation Templates</h3>
                <p class="text-light-slate">
                  Pre-built governance templates for HealthNet, Mutual Aid Logistics, Guardian Circles, 
                  and Disability Advocacy replace state functions with federated, democratic infrastructure.
                </p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="bg-accent-blue/20 p-3 rounded-lg">
                <span class="text-2xl">üõ°Ô∏è</span>
              </div>
              <div>
                <h3 class="text-xl font-bold mb-2">Technical Sovereignty</h3>
                <p class="text-light-slate">
                  Systems designed for community control and technological independence. 
                  Infrastructure that serves democratic participation rather than corporate extraction.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Philosophical Foundation -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-4xl font-bold mb-8">The "Debugging Civilization" Framework</h2>
        <p class="text-xl text-light-slate mb-8">
          ICN emerges from a comprehensive critique of extractive capitalist systems 
          and offers cooperative infrastructure as the regenerative alternative. This philosophy is explored 
          in depth through the "Debugging Civilization" essay series.
        </p>
        
        <div class="bg-gradient-to-r from-accent-primary/10 via-accent-blue/10 to-accent-purple/10 p-8 rounded-lg">
          <blockquote class="text-2xl font-semibold text-accent-glow mb-4">
            "Revolution is a design problem solvable through participatory, federated infrastructure 
            rooted in dignity and regeneration."
          </blockquote>
          <p class="text-light-slate">
            The core insight that systemic transformation requires not just critique, but the actual 
            construction of alternative systems that embody cooperative values.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="py-20 bg-gradient-to-r from-accent-primary/10 via-accent-blue/10 to-accent-purple/10">
    <div class="container mx-auto px-6 text-center">
      <h2 class="text-4xl font-bold mb-6">{ctaTitle}</h2>
      <p class="text-xl text-light-slate mb-8 max-w-3xl mx-auto">
        {ctaDescription}
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/get-started" class="btn btn-primary text-lg px-8 py-4">
          Get Started
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>
        </a>
        <a href="/docs" class="btn btn-secondary text-lg px-8 py-4">
          Read Documentation
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
          </svg>
        </a>
      </div>

      <!-- Key Statistics or Principles -->
      <div class="grid md:grid-cols-4 gap-8 mt-16 pt-16 border-t border-white/10">
        <div class="text-center">
          <div class="text-3xl font-bold text-accent-primary mb-2">100%</div>
          <div class="text-light-slate">Open Source</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-accent-blue mb-2">Post-Capitalist</div>
          <div class="text-light-slate">Infrastructure</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-accent-purple mb-2">Cooperative</div>
          <div class="text-light-slate">Owned</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-accent-glow mb-2">Revolutionary</div>
          <div class="text-light-slate">Design</div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .btn {
    @apply inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-300 no-underline;
  }
  
  .btn-primary {
    @apply bg-accent-primary text-midnight-navy hover:scale-105 shadow-lg hover:shadow-xl;
  }
  
  .btn-primary:hover {
    background-color: #00c299; /* Slightly darker shade of accent-primary */
  }
  
  .btn-secondary {
    @apply bg-transparent text-accent-primary border-2 border-accent-primary hover:bg-accent-primary hover:text-midnight-navy;
  }
</style>
